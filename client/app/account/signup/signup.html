<div class="cls-content-lg panel">
    <div class="panel-body">
        <p class="pad-btm">Registrar una cuenta</p>
        <form class="form" name="form" ng-submit="vm.register(form)" novalidate>
            <div class="form-group" ng-class="{ 'has-success': form.name.$valid && (form.name.$dirty || vm.submitted),
                                            'has-error': form.name.$invalid && (form.name.$dirty || vm.submitted)}">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-male"></i></div>
                    <input type="text" class="form-control" placeholder="Nombre y Apellido" name="name" minlength="6"
                           ng-model="vm.user.name" required/>
                </div>
                <p class="help-block" ng-show="form.name.$error.required && (form.name.$dirty || vm.submitted)">
                    El nombre es requerido
                </p>
                <p class="help-block" ng-show="form.name.$error.minlength && (form.name.$dirty || vm.submitted)">
                    Escribe por lo menos 6 caracteres
                </p>
            </div>
            <div class="form-group" ng-class="{ 'has-success': form.mn.$valid && (form.mn.$dirty || vm.submitted),
                                            'has-error': form.mn.$invalid && (form.mn.$dirty || vm.submitted)}">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-user-md"></i></i></div>
                    <input type="number" class="form-control" min="1" max="99999999" step="1" required
                           ng-model="vm.user.mn" placeholder="Matricula Nacional" name="mn">
                </div>
                <p class="help-block" ng-show="form.mn.$error.required && (form.mn.$dirty || vm.submitted)">
                    La matrícula es requerida
                </p>
                <p class="help-block" ng-show="form.mn.$error.max && (form.mn.$dirty || vm.submitted)">
                    Máximo 8 dígitos
                </p>
                <p class="help-block" ng-show="form.mn.$error.min && (form.mn.$dirty || vm.submitted)">
                    El valor mínimo es 1
                </p>
            </div>
            <div class="form-group" ng-class="{ 'has-success': form.mp.$valid && (form.mp.$dirty || vm.submitted),
                                            'has-error': form.mp.$invalid && (form.mp.$dirty || vm.submitted)}">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-user-md"></i></i></div>
                    <input type="number" class="form-control" min="1" max="99999999" step="1" required
                           ng-model="vm.user.mp" placeholder="Matricula Provincial" name="mp">
                </div>
                <p class="help-block" ng-show="form.mp.$error.required && (form.mp.$dirty || vm.submitted)">
                    La matrícula es requerida
                </p>
                <p class="help-block" ng-show="form.mp.$error.max && (form.mp.$dirty || vm.submitted)">
                    Máximo 8 dígitos
                </p>
                <p class="help-block" ng-show="form.mp.$error.min && (form.mp.$dirty || vm.submitted)">
                    El valor mínimo es 1
                </p>
            </div>
            <hr>
            <div class="form-group" ng-class="{ 'has-success': form.email.$valid && (form.email.$dirty || vm.submitted),
                                                            'has-error': form.email.$invalid && (form.email.$dirty || vm.submitted) }">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-envelope"></i></div>
                    <input type="email" name="email" class="form-control" ng-model="vm.user.email"
                           placeholder="E-mail" ng-model="vm.user.email"
                           required
                           mongoose-error/>
                </div>
                <p class="help-block" ng-show="form.email.$error.email && (form.email.$dirty || vm.submitted)">
                    No parece un email válido
                </p>
                <p class="help-block" ng-show="form.email.$error.required && (form.email.$dirty || vm.submitted)">
                    Debes ingresar tu email
                </p>
                <p class="help-block" ng-show="form.email.$error.mongoose">
                    {{ vm.errors.email }}
                </p>
            </div>

            <div class="form-group" ng-class="{ 'has-success': form.password.$valid && (form.password.$dirty || vm.submitted),
                                            'has-error': form.password.$invalid && (form.password.$dirty || vm.submitted) }">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-asterisk"></i></div>
                    <input type="password" name="password" class="form-control" placeholder="Contraseña"
                           ng-model="vm.user.password"
                           ng-minlength="6"
                           required
                           mongoose-error/>
                </div>
                <p class="help-block"
                   ng-show="(form.password.$error.minlength || form.password.$error.required) && (form.password.$dirty || vm.submitted)">
                    La contraseña debe tener como mínimo 6 caracteres
                </p>
                <p class="help-block" ng-show="form.password.$error.mongoose">
                    {{ vm.errors.password }}
                </p>
            </div>


            <div class="form-group" ng-class="{ 'has-success': form.confirmPassword.$valid && (form.confirmPassword.$dirty || vm.submitted),
                                            'has-error': form.confirmPassword.$invalid && (form.confirmPassword.$dirty || vm.submitted) }">
                <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-asterisk"></i></div>
                    <input type="password" name="confirmPassword" class="form-control"
                           placeholder="Repetir Contraseña"
                           ng-model="vm.user.confirmPassword"
                           match="vm.user.password"
                           ng-minlength="6" required/>
                </div>
                <p class="help-block"
                   ng-show="form.confirmPassword.$error.match && (form.confirmPassword.$dirty || vm.submitted)">
                    Las contraseñas no coinciden
                </p>
            </div>

            <div class="text-right">
                <button class="btn btn-success text-uppercase" type="submit">Registrarse</button>
            </div>
        </form>
        <div class="alert alert-success media fade in" ng-show="vm.success">

            <div class="media-left">
                <span class="icon-wrap icon-wrap-sm icon-circle alert-icon">
                    <i class="fa fa-envelope fa-lg"></i>
                </span>
            </div>
            <div class="media-body text-left">
                <h4 class="alert-title">Cuenta registrada exitosamente!</h4>
                <p class="alert-message">
                    Te notificaremos por mail cuando se apruebe tu cuenta. <br />
                    Agrega a <strong>mail@sacp.com.ar</strong> como contacto de confianza
                </p>
            </div>
        </div>
    </div>
</div>
<div class="pad-ver">
    ¿Ya tienees una cuenta? <a href ui-sref="login" class="btn-link mar-rgt">Ingresar al Sistema</a>
</div>

