<div class="cls-content-lg panel">
    <div class="panel-body">
        <p class="pad-btm">Registrar una cuenta</p>
        <form class="form" name="form" ng-hide="vm.success" ng-disabled="isSaving" ng-submit="vm.register(form)" novalidate autocomplete="off">
            <fieldset ng-disabled="isSaving">
                <div class="form-group" ng-class="{ 'has-success': form.name.$valid && (form.name.$dirty || vm.submitted),
                                            'has-error': form.name.$invalid && (form.name.$dirty || vm.submitted)}">
                    <div class="input-group">
                        <div class="input-group-addon"><i class="fa fa-male"></i></div>
                        <input type="text" class="form-control" placeholder="Nombre y Apellido" name="name"
                               minlength="6"
                               ng-model="vm.user.name" required/>
                    </div>
                    <p class="help-block" ng-show="form.name.$invalid && (form.name.$dirty || vm.submitted)">
                        <span ng-show="form.name.$error.minlength">Escribe por lo menos 6 caracteres</span>
                        <span ng-show="form.name.$error.required">El campo es requerido</span>
                    </p>
                </div>
                <div class="form-group" ng-class="{ 'has-success': form.mn.$valid && (form.mn.$dirty || vm.submitted),
                                            'has-error': form.mn.$invalid && (form.mn.$dirty || vm.submitted)}">
                    <div class="input-group">
                        <div class="input-group-addon"><i class="fa fa-user-md"></i></i></div>
                        <input type="number" class="form-control" min="1" max="99999999" step="1" required
                               ng-model="vm.user.mn" placeholder="Matricula Nacional" name="mn">
                    </div>
                    <p class="help-block" ng-show="form.mn.$invalid && (form.mn.$dirty || vm.submitted)">
                        <span ng-show="form.mn.$error.required">El campo es requerido</span>
                        <span ng-show="form.mn.$error.max">Máximo 8 dígitos</span>
                        <span ng-show="form.mn.$error.min">El valor mínimo es 1</span>
                    </p>
                </div>
                <div class="form-group" ng-class="{ 'has-success': form.mp.$valid && (form.mp.$dirty || vm.submitted),
                                            'has-error': form.mp.$invalid && (form.mp.$dirty || vm.submitted)}">
                    <div class="input-group">
                        <div class="input-group-addon"><i class="fa fa-user-md"></i></i></div>
                        <input type="number" class="form-control" min="1" max="99999999" step="1" required
                               ng-model="vm.user.mp" placeholder="Matricula Provincial" name="mp">
                    </div>
                    <p class="help-block" ng-show="form.mp.$invalid && (form.mp.$dirty || vm.submitted)">
                        <span ng-show="form.mp.$error.required">El campo es requerido</span>
                        <span ng-show="form.mp.$error.max">Máximo 8 dígitos</span>
                        <span ng-show="form.mp.$error.min">El valor mínimo es 1</span>
                    </p>
                </div>
                <hr>
                <div class="form-group" ng-class="{ 'has-success': form.email.$valid && (form.email.$dirty || vm.submitted),
                                                            'has-error': form.email.$invalid && (form.email.$dirty || vm.submitted) }">
                    <div class="input-group">
                        <div class="input-group-addon"><i class="fa fa-envelope"></i></div>
                        <input type="email" name="email" class="form-control" ng-model="vm.user.email"
                               placeholder="E-mail" ng-model="vm.user.email"
                               required
                               mongoose-error/>
                    </div>
                    <p class="help-block" ng-show="form.email.$invalid && (form.email.$dirty || vm.submitted)">
                        <span ng-show="form.email.$error.email">No parece un email válido</span>
                        <span ng-show="form.email.$error.required">Debes ingresar tu email</span>
                        <span ng-show="form.email.$error.mongoose">{{ vm.errors.email }}</span>
                    </p>
                </div>

                <div class="form-group" ng-class="{ 'has-success': form.password.$valid && (form.password.$dirty || vm.submitted),
                                            'has-error': form.password.$invalid && (form.password.$dirty || vm.submitted) }">
                    <div class="input-group">
                        <div class="input-group-addon"><i class="fa fa-asterisk"></i></div>
                        <input type="password" name="password" class="form-control" placeholder="Contraseña"
                               ng-model="vm.user.password"
                               ng-minlength="6"
                               required
                               mongoose-error/>
                    </div>
                    <p class="help-block" ng-show="form.password.$invalid && (form.password.$dirty || vm.submitted)">
                        <span ng-show="form.password.$error.minlength">La contraseña debe tener como mínimo 6 caracteres</span>
                        <span ng-show="form.password.$error.mongoose">{{ vm.errors.password }}</span>
                    </p>
                </div>


                <div class="form-group" ng-class="{ 'has-success': form.confirmPassword.$valid && (form.confirmPassword.$dirty || vm.submitted),
                                            'has-error': form.confirmPassword.$invalid && (form.confirmPassword.$dirty || vm.submitted) }">
                    <div class="input-group">
                        <div class="input-group-addon"><i class="fa fa-asterisk"></i></div>
                        <input type="password" name="confirmPassword" class="form-control"
                               placeholder="Repetir Contraseña"
                               ng-model="vm.user.confirmPassword"
                               match="vm.user.password"
                               ng-minlength="6" required/>
                    </div>
                    <p class="help-block" ng-show="form.confirmPassword.$invalid && (form.confirmPassword.$dirty || vm.submitted)">
                        <span ng-show="form.confirmPassword.$error.match">Las contraseñas no coinciden</span>
                    </p>
                </div>

                <div class="text-right">
                    <button class="btn btn-success text-uppercase" type="submit">Registrarse</button>
                </div>
            </fieldset>
        </form>
        <div class="alert alert-success media effect-fade" ng-show="vm.success">

            <div class="media-left">
                <span class="icon-wrap icon-wrap-sm icon-circle alert-icon">
                    <i class="fa fa-envelope fa-lg"></i>
                </span>
            </div>
            <div class="media-body text-left">
                <h4 class="alert-title">Cuenta registrada exitosamente!</h4>
                <p class="alert-message">
                    Te notificaremos por mail cuando se apruebe tu cuenta. <br/>
                    Agrega a <strong>mail@sacp.com.ar</strong> como contacto de confianza
                </p>
            </div>
        </div>
    </div>
</div>
<div class="pad-ver">
    ¿Ya tienees una cuenta? <a href ui-sref="login" class="btn-link mar-rgt">Ingresar al Sistema</a>
</div>

