<fieldset ng-disabled="vm.isSaving">
    <div class="row">
        <div class="form-group {{vm.autoform.formGroupClass}}" ng-repeat="field in vm.metadata.fields"
             ng-class="{ 'has-success': vm.form[field.field].$valid && (vm.form[field.field].$dirty || vm.submitted),
                                            'has-error': vm.form[field.field].$invalid && (vm.form[field.field].$dirty || vm.submitted)}">
            <div class="input-group">
                <div class="input-group-addon">
                    <i ng-if="field.icon" class="{{field.icon}}"></i>
                    <span ng-if="field.iconText">{{field.iconText}}</span>
                </div>

                <input ng-if="field.controlType == 'input'" ng-model="vm.autoform.object[field.field]" dynamic-attributes>

                <select ng-if="field.controlType == 'object'" ng-model="vm.autoform.object[field.field]" dynamic-attributes>
                    <option value="">Seleccionar</option>
                </select>

            </div>
            <p class="help-block" ng-show="vm.form[field.field].$invalid && (vm.form[field.field].$dirty || vm.submitted)">
                <span ng-repeat="(key, value) in field.validations" ng-show="vm.form[field.field].$error[key]">{{vm.getMessage(key, value, field.field)}}</span>
            </p>
        </div>
    </div>
</fieldset>

